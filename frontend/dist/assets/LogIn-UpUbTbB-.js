import{d as k,I as x,r as t,c as _,e as a,b as l,w as o,V as q,aj as C,f,D as I,h as L,x as v,t as h,k as B,ak as N,L as g,G as V,_ as P}from"./index-DD0chK9m.js";import{V as S}from"./VAlert-BswZB0pH.js";import{V as D}from"./VForm-D4HHFwdz.js";const F={class:"home-wrapper"},T={class:"content-wrapper"},A={class:"login-content"},E={class:"text-center"},R=k({__name:"LogIn",setup(U){const b=C(),w=x(),u=t(null),m=t(""),p=t(""),r=t(""),c=t(!1),n=t(!1),i={required:s=>!!s||"This field is required",email:s=>/.+@.+\..+/.test(s)||"Invalid email address",min:s=>s.length>=6||"Password must be at least 6 characters"},y=async()=>{if(!u.value)return;const{valid:s}=await u.value.validate();if(s)try{c.value=!0,r.value="",await w.login({username:m.value,password:p.value})?b.push("/"):r.value="Failed to login. Please try again."}catch{r.value="Invalid email or password"}finally{c.value=!1}};return(s,e)=>(f(),_("div",F,[e[8]||(e[8]=a("div",{class:"header-image"},null,-1)),e[9]||(e[9]=a("div",{class:"header-overlay"},null,-1)),a("div",T,[l(q,{class:"login-container"},{default:o(()=>[l(I,{class:"login-card"},{default:o(()=>[e[7]||(e[7]=a("div",{class:"login-background"},null,-1)),a("div",A,[e[6]||(e[6]=a("h2",{class:"text-center mb-6"},"Login",-1)),r.value?(f(),L(S,{key:0,type:"error",variant:"tonal",closable:"",class:"mb-4"},{default:o(()=>[v(h(r.value),1)]),_:1})):B("",!0),l(D,{onSubmit:N(y,["prevent"]),ref_key:"form",ref:u},{default:o(()=>[l(g,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=d=>m.value=d),label:"Email",type:"email",rules:[i.required,i.email],variant:"outlined","prepend-icon":"mdi-email",class:"mb-4",required:"","error-messages-class":"custom-error-message"},null,8,["modelValue","rules"]),l(g,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=d=>p.value=d),label:"Password",type:n.value?"text":"password",rules:[i.required,i.min],variant:"outlined","prepend-icon":"mdi-lock","append-icon":n.value?"mdi-eye":"mdi-eye-off","onClick:append":e[2]||(e[2]=d=>n.value=!n.value),class:"mb-6",required:"","error-messages-class":"custom-error-message"},null,8,["modelValue","type","rules","append-icon"]),l(V,{type:"submit",loading:c.value,block:"",class:"login-btn mb-4",height:"44"},{default:o(()=>e[3]||(e[3]=[v(" Login ")])),_:1},8,["loading"]),a("div",E,[e[5]||(e[5]=a("span",{class:"text-medium-emphasis"},"Don't have an account?",-1)),l(V,{variant:"text",to:"/register",class:"register-link ms-2"},{default:o(()=>e[4]||(e[4]=[v(" Register now ")])),_:1})])]),_:1},512)])]),_:1})]),_:1})])]))}}),$=P(R,[["__scopeId","data-v-b24b1140"]]);export{$ as default};
